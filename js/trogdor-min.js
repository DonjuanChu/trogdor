var Trogdor=function(){var j=document,m=window,h=-1,o,n,k,p,l,a;function b(d){if(d&&(d.nodeType||d.item)){return d}return j.getElementById(d)}function g(q,d,r){q=b(q);if(!q){return}if(m.addEventListener){q.addEventListener(d,r,false)}else{if(m.attachEvent){q.attachEvent("on"+d,r)}}}function f(d){if(d.preventDefault){d.preventDefault()}else{if(d.returnValue){d.returnValue=false}}}function i(t){if(!t||!t.ysearchresponse){return}var s="",r=t.ysearchresponse.resultset_web,q,d;if(r&&r.length){for(q=0;q<r.length;++q){d=r[q];s+='<li class="res"><h3><a href="'+d.clickurl+'">'+d.title+'</a></h3><div class="abstract">'+d["abstract"]+"</div><cite>"+d.dispurl+"</cite></li>"}}else{s="<li>No results</li>"}k.innerHTML=s}function e(q,d){var r;for(r in d){if(d.hasOwnProperty(r)){q=q.replace("{"+r+"}",d[r])}}return q}function c(q){q=q||m.event;switch(q.keyCode){case 27:f(q);h=-1;n.focus();break;case 38:f(q);if(h-1<=-1){h=-1;n.focus()}else{h-=1;try{k.childNodes[h].firstChild.firstChild.focus()}catch(d){h+=1}}break;case 40:f(q);if(h+1<k.childNodes.length){h+=1;try{k.childNodes[h].firstChild.firstChild.focus()}catch(d){h-=1}}break}}p={BOSS_URL:"http://boss.yahooapis.com/ysearch/web/v1/{query}?appid={appid}&format=jsonp&callback={callback}",results:{},init:function(r,s,q){var d;o=r;n=b(s);k=b(q);if(!n.value){if(d=m.location.search.match(/(?:\?|&)q=([^&]+)/)){n.value=decodeURIComponent(d[1].replace(/\+/g," "))}}if(n.value){p.search(n.value)}g(n,"keyup",function(){p.search(n.value)});g(n,"focus",function(){h=-1});g(j,"keydown",c);n.focus()},search:function(d){d=d.replace(/^\s+|\s+$/g,"");if(!d){return}if(p.results.hasOwnProperty(d)){i(p.results[d]);return}if(l){l.parentNode.removeChild(l)}l=j.createElement("script");l.src=e(p.BOSS_URL,{appid:encodeURIComponent(o),callback:"Trogdor.response",query:encodeURIComponent(d)});p.response=function(q){p.results[d]=q;i(q);if(l){l.parentNode.removeChild(l);l=null}};j.body.appendChild(l)}};return p}();