var FastSearch=function(){var k=document,m=window,i=-1,o,n,l,p,a;function b(d){if(d&&(d.nodeType||d.item)){return d}return k.getElementById(d)}function f(){if(a){return}var q=navigator.userAgent,d;a={gecko:0,ie:0,webkit:0};d=q.match(/AppleWebKit\/(\S*)/);if(d&&d[1]){a.webkit=parseFloat(d[1])}else{d=q.match(/MSIE\s([^;]*)/);if(d&&d[1]){a.ie=parseFloat(d[1])}else{if((/Gecko\/(\S*)/).test(q)){a.gecko=1;d=q.match(/rv:([^\s\)]*)/);if(d&&d[1]){a.gecko=parseFloat(d[1])}}}}}function h(q,d,r){q=b(q);if(!q){return}if(m.addEventListener){q.addEventListener(d,r,false)}else{if(m.attachEvent){q.attachEvent("on"+d,r)}}}function g(d){if(d.preventDefault){d.preventDefault()}else{if(d.returnValue){d.returnValue=false}}}function j(u,t){if(!u||!t||!t.ysearchresponse){return}var s="",r=t.ysearchresponse.resultset_web,q,d;if(r&&r.length){for(q=0;q<r.length;++q){d=r[q];s+='<li class="res"><h3><a href="'+d.clickurl+'">'+d.title+'</a></h3><div class="abstract">'+d["abstract"]+"</div><cite>"+d.dispurl+"</cite></li>"}}else{s="<li>No results</li>"}l.innerHTML=s}function e(q,d){var r;for(r in d){if(d.hasOwnProperty(r)){q=q.replace("{"+r+"}",d[r])}}return q}function c(q){q=q||m.event;switch(q.keyCode){case 38:g(q);if(i-1<=-1){i=-1;n.focus()}else{i-=1;try{l.childNodes[i].firstChild.firstChild.focus()}catch(d){i+=1}}break;case 40:g(q);if(i+1<l.childNodes.length){i+=1;try{l.childNodes[i].firstChild.firstChild.focus()}catch(d){i-=1}}break}}p={BOSS_URL:"http://boss.yahooapis.com/ysearch/web/v1/{query}?appid={appid}&format=jsonp&callback={callback}",results:{},init:function(q,r,d){o=q;n=b(r);l=b(d);n.setAttribute("autocomplete","off");f();h(n,"keyup",function(){p.search(n.value)});h(n,"focus",function(){i=-1});h(k,a.gecko?"keypress":"keydown",c);n.focus()},search:function(q){q=q.replace(/^\s+|\s+$/g,"");if(!q){return}if(p.results.hasOwnProperty(q)){p.results[q]();return}var d=k.createElement("script");d.src=e(p.BOSS_URL,{appid:encodeURIComponent(o),callback:encodeURIComponent("FastSearch.results['"+q.replace(/'/g,"\\'")+"']"),query:encodeURIComponent(q)});p.results[q]=function(r){if(r){arguments.callee.data=r}j(q,arguments.callee.data);if(d){d.parentNode.removeChild(d);d=null}};k.body.appendChild(d)}};return p}();